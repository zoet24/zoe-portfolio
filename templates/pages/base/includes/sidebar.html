<div class="sidebar" id="sidebar">
    <div class="sidebar-content">
        <div class="sidebar-toggle" onclick="sidebarToggle()">
            <i class="fas fa-play" id="sidebar-toggle-arrow"></i>
        </div>
        <!-- Zoe, contact details -->
        <h2 class="text-link text-link-hover sidebar-h2">
            <div class="text-link-underline" id="active-/"></div>
            <a class="sidebar-h2" href="{{ url_for('index') }}">Zoe Thexton</a>
        </h2>
        <!-- Portfolio -->
        <ul class="sidebar-nav">
            <li class="text-link text-link-hover">
                <div class="text-link-underline" id="active-/portfolio"></div>
                <a class="sidebar-nav-heading" href="{{ url_for('portfolio') }}">Portfolio</a>
            </li>
                <ul>
                    {% for project in projects %}
                    <li class="text-link text-link-hover">
                        <div class="text-link-underline" id="active-/portfolio/{{ project.url_slug }}"></div>
                        <a href="{{ url_for( 'portfolio_project', project_url_slug=project.url_slug) }}">{{ project.name }}</a>
                    </li>
                    {% endfor %}
                </ul>
            <li class="text-link text-link-hover">
                <div class="text-link-underline" id="active-/contact"></div>
                <a class="sidebar-nav-heading" href="{{ url_for('contact') }}">Contact</a>
            </li>
        </ul>
        <!-- Contact link -->
        <!-- Icons, ZT 2021 -->
        <div class="sidebar-icons">
            <a href="https://github.com/zoet24" target="_blank" class="icon">
                <i class="fab fa-github-alt"></i>
            </a>
            <a href="https://www.linkedin.com/in/zoe-thexton/" target="_blank" class="icon">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        var urlPath = window.location.pathname
        var targetLink = document.getElementById(`active-${urlPath}`)
        var targetLinkParent = targetLink.parentNode
        
        targetLink.classList.add("text-link-underline-active")
        targetLinkParent.classList.remove("text-link-hover")

        $(".text-link-hover").hover(
            function() {
                var linkWidth = ($(this).width() + 6);
                $(this).find(".text-link-underline").width(linkWidth)
            }, function() {
                $(this).find(".text-link-underline").width(0)
        });
});
</script>